{"name":"Scenery-manager","body":"Scenery Manager\r\n===============\r\n\r\nTo develop a template (jsp, velocity, free maker...), you need all-that-messy-server-side stuff up and running. You have to mess with maven, libraries, databases, endless configuration stuff, right?\r\n\r\nThat means that you are quite dependent. The more dependent, the less freedom.\r\n\r\nBut, what if we could get the server-side behavior even before it’s done/configured/etc? It would break the dependency!\r\n\r\n### Emulating the server side behaviour in a proper MVC\r\n\r\nA view (usually a jsp/velocity/free marker/... template) gets some data/objects and displays its content, like\r\n\r\n    ...\r\n    <h2>Welcome ${user.name}\r\n    ...\r\n\r\nTo make it work, you just need to:\r\n\r\n1. Write a fake data (file) with the value of all those variables (like user.name). This usually stays in .scn (scenery) files.\r\n2. Merge both files (template and data):\r\n2.1. Define the URL mapping. Each URL combines a template and a scenery data file. Like: for \"/home\" URL, merges \"/home/index.ftl\" template and \"/home/john.scn\" fake data file. This is done in a very simple configuration file in \"WEB-INF/scenery.xml\"\r\n2.2. Run the scenery manager app and tell it where your webapp is\r\n2.3. Access http://localhost/home to see what happens with your template when it receves such data.\r\n\r\nTemplates\r\n---------\r\n\r\nScenery manager supports JSP, velocity and freemarker templates. Use includes, macros, whatever.\r\nJust don't do and heavy logic method calls/controller stuff there.\r\nThis means that if your template is kind of dumb and just shows information, you are good to go.\r\n\r\nFor our example, let's asume \"/home/index.ftl\" (free marker):\r\n\r\n    ...\r\n    <#if user??>\r\n        Welcome back, ${user.name}.\r\n    <#else>\r\n        Have an account? <a href=\"/auth/signin\">Sign in</a>. Or <a href=\"/auth/signup\">sign up</a>\r\n    </#if>\r\n    ...\r\n    <div class=\"footer\">\r\n        Hello app, version ${app.version}. Updated at ${app.updatedAt ?datetime}\r\n    </div>\r\n    \r\n\r\nFake data files, aka .scn\r\n-------------------------\r\n\r\nYou can define the data in a syntax very similar to json. For our example, \"/home/john.scn\":\r\n\r\n    user = {\r\n        name = \"John Doe\";\r\n    };\r\n    \r\n    app = {\r\n        version = 1.2;\r\n        updatedAt = 2010-02-20;\r\n    };\r\n    \r\nLet's define another scenery (\"/home/anonimous.scn\"), for someone that isn't logged in, just with the app values:\r\n\r\n    app = {\r\n        version = 1.2;\r\n        updatedAt = 2010-02-20;\r\n    };\r\n\r\nI know I should use a better syntax, like json itself or haml. But, hay! I did it back in 2002!\r\n\r\nURL mapping file, aka 'WEB-INF/scenery.xml'\r\n-------------------------------------------\r\nThe first scenery (logged-in user), will be available in \"/john\" URI. The second one (not logged in), in \"/home\".\r\n\r\n    <scenery-manager>\r\n        <scenery-set uri=\"/john\" template=\"/home/index.ftl\" data=\"/home/john.scn\" />\r\n        <scenery-set uri=\"/home\" template=\"/home/index.ftl\" data=\"/home/anonymous.scn\" />\r\n    </scenery-manager>\r\n\r\nRunning scenery manager app\r\n---------------------------\r\n\r\nSupose that the demo app is located at $HOME/hello-world, and the wabapp source in ./src/main/webapp. Just run:\r\n\r\n    cd <scenery-manager-app directory>\r\n    ./run.sh -p $HOME/hello-world/src/main/webapp\r\n\r\nSumming up\r\n==========\r\n\r\nScenery manager assigns URLs to a fake data file and a template. And when you access that URL, it “merges” both files and shows you the result.\r\n\r\n- Develop and test the view with freedom\r\n- Stress different scenarios\r\n- Minimum overhead\r\n- Useful even when the server-side component is done\r\n- Not a prototype solution, but can be used so","tagline":"Build and test just your view","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}